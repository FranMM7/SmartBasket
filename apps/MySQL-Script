-- Create User table
CREATE TABLE `User` (
    `Id` INT AUTO_INCREMENT PRIMARY KEY,
    `Username` VARCHAR(50) NOT NULL,
    `Email` VARCHAR(50) NOT NULL,
    `PasswordHash` VARCHAR(128) NOT NULL,
    `CreatedAt` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    `UpdatedAt` TIMESTAMP NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP
);

-- Create Post table
CREATE TABLE `Post` (
    `Id` INT AUTO_INCREMENT PRIMARY KEY,
    `Title` VARCHAR(100) NOT NULL,
    `Content` TEXT NOT NULL,
    `UserId` INT NOT NULL,
    `CreatedAt` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    `UpdatedAt` TIMESTAMP NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (`UserId`) REFERENCES `User`(`Id`)
);

-- Create Comment table
CREATE TABLE `Comment` (
    `Id` INT AUTO_INCREMENT PRIMARY KEY,
    `Content` VARCHAR(500) NOT NULL,
    `PostId` INT NOT NULL,
    `UserId` INT NOT NULL,
    `CreatedAt` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    `UpdatedAt` TIMESTAMP NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (`PostId`) REFERENCES `Post`(`Id`),
    FOREIGN KEY (`UserId`) REFERENCES `User`(`Id`)
);
